- cpu_topology_die_id:
    type = cpu_topology_die_id
    start_vm = no
    variants case:
        - host_capabilities:
        - on_vm:
            variants:
                - dies_2:
                    dies = 2
                - dies_5:
                    dies = 5
                - dies_11:
                    dies = 11
            cpu_numa_attrs = {'numa_cell': [{'id': '0', 'discard': 'yes', 'memory': '512000', 'cpus': '0-7', 'unit': 'KiB'}, {'memAccess': 'shared', 'id': '1', 'memory': '512000', 'cpus': '8-15', 'unit': 'KiB'}]}
            cpu_attrs = {**${cpu_numa_attrs}, 'topology': {'sockets': '2', 'dies': ${dies}, 'cores': '2', 'threads': '2'}, 'mode': 'host-model', 'check': 'partial'}
            vm_attrs = {'vcpu': ${dies}*8, 'numa_memory': {'mode': 'strict', 'placement':'auto'}, 'cpu': ${cpu_attrs}}
