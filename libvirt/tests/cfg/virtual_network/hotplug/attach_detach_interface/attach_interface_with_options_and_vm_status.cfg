- virtual_network.hotplug.attach_interface.options_and_vm_status:
    type = attach_interface_with_options_and_vm_status
    iface_type = "network"
    iface_source = "default"
    iface_model = "virtio"
    expected_xpaths_attach =  [{'element_attrs': [f".//interface[@type='%s']"]}, {'element_attrs': [ f".//interface/source[@network='%s']"]}, {'element_attrs': [ f".//interface/mac[@address='%s']"]}]
    variants:
        - vm_running:
            vm_state = "running"
            status_error = "no"
            expected_active_xml = "yes"
            expected_inactive_xml = "no"
            expected_vm_interface = "yes"
        - vm_shutoff:
            vm_state = "shutoff"
            status_error = "yes"
            expected_error = "domain is not running"
    variants:
        - no_option:
            test_flags = ""
        - live_option:
            test_flags = "--live"
        - current_option:
            test_flags = "--current"
            vm_shutoff:
                status_error = "no"
                expected_inactive_xml = "yes"
                expected_error = ""
        - config_option:
            test_flags = "--config"
            vm_running:
                expected_active_xml = "no"
                expected_inactive_xml = "yes"
                expected_vm_interface = "no"
            vm_shutoff:
                status_error = "no"
                expected_inactive_xml = "yes"
                expected_error = ""
        - persistent_option:
            test_flags = "--persistent"
            expected_inactive_xml = "yes"
            vm_shutoff:
                status_error = "no"
                expected_error = ""
        - config_live_option:
            test_flags = "--config --live"
            vm_running:
                expected_inactive_xml = "yes"
        - current_live_option:
            test_flags = "--current --live"
            vm_running:
                status_error = "yes"
                expected_active_xml = ""
                expected_inactive_xml = ""
                expected_vm_interface = ""
            expected_error = "are mutually exclusive"

