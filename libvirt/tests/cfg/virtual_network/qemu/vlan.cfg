- virtual_network.qemu_test.vlan: image_copy
    type = vlan
    # subnet should not be used by host
    create_vm_libvirt = yes
    kill_vm_libvirt = yes
    ovmf:
        kill_vm_libvirt_options = --nvram
    master_images_clone = img1
    remove_image_image1 = yes
    main_vm = vm1
    subnet = "192.168"
    vlan_num = 5
    file_size = 10
    maximal = 4094
    listen_cmd = "nc -l %s > %s"
    send_cmd = "nc %s %s < %s"
    vms = vm1 vm2
    cmd_type = ip
    stop_firewall_cmd = "systemctl stop firewalld || service firewalld stop"
    load_8021q_cmd = "modprobe 8021q"
    msg_pattern = '8021q: Invalid VLAN id'
    RHEL.7, ALT.7, RHEL.6:
        msg_pattern = 'RTNETLINK answers: Numerical result out of range'
    Windows:
        # two windows VM, need more time to boot and login
        only virtio_net
        login_timeout = 720
        vlan_num = 1
        win_vlan_id = 900
        cdroms += " virtio"
        driver_verifier = netkvm
        set_vlan_cmd = powershell -command "Set-NetAdapter -Name '%s' -VlanID ${win_vlan_id} -Confirm:$False"
        Win2016, Win2019, Win8..1, Win2012..r2:
                driver_verifier += " ndis"
    variants:
        - @vlan_connective_test:
        - vlan_scalability_test:
            only Linux
            do_maximal_test = yes
