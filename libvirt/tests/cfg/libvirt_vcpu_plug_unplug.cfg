- libvirt_vcpu_plug_unplug:
    type = libvirt_vcpu_plug_unplug
    start_vm = no
    vm_operation = "null"
    vcpu_max_num = "4"
    vcpu_current_num = "2"
    vcpu_plug = "yes"
    vcpu_plug_num = "3"
    vcpu_unplug = "yes"
    vcpu_unplug_num = "1"
    setvcpu_option = ""
    install_qemuga = "no"
    start_qemuga = "no"
    restart_libvirtd = "no"
    setvcpu_readonly = "no"
    variants:
        - positive_test:
            status_error = "no"
            variants:
                - vcpu_set:
                    variants:
                        - vm_operate:
                            variants:
                                - no_operation:
                                - save:
                                    vm_operation = "save"
                                    vcpu_unplug = "no"
                                - managedsave:
                                    vm_operation = "managedsave"
                                    vcpu_unplug = "no"
                                - suspend_to_mem:
                                    vm_operation = "s3"
                                    install_qemuga = "yes"
                                    start_qemuga = "yes"
                                - suspend_to_disk:
                                    vm_operation = "s4"
                                    install_qemuga = "yes"
                                    start_qemuga = "yes"
                        - libvirtd_restart:
                                restart_libvirtd = "yes"
                        - vcpu_pin:
                            only live
                            variants:
                                - pin_plug_unplug:
                                    pin_before_plug = "yes"
                                    pin_vcpu = "0"
                                    pin_cpu_list = "x,y"
                                - pin_unplug:
                                    vcpu_plug = "no"
                                    pin_before_unplug = "yes"
                                    pin_vcpu = "1"
                                    pin_cpu_list = "x-y,^z"
                                - plug_pin:
                                    vcpu_unplug = "no"
                                    pin_after_plug = "yes"
                                    pin_vcpu = "2"
                                    pin_cpu_list = "x-y"
                                - unplug_pin:
                                    vcpu_plug = "no"
                                    pin_after_unplug = "yes"
                                    pin_vcpu = "0"
                                    pin_cpu_list = "x"
                    variants:
                        - live:
                            setvcpu_option = "--live"
                        - config:
                            setvcpu_option = "--config"
                        - guest:
                            vcpu_plug = "no"
                            install_qemuga = "yes"
                            start_qemuga = "yes"
                            setvcpu_option = "--guest"

        - negative_test:
            status_error = "yes"
            variants:
                - greater_plug_number:
                    vcpu_plug_num = "8"
                    vcpu_unplug = "no"
                    check_after_plug_fail = "yes"
                - readonly_setvcpu:
                    setvcpu_readonly = "yes"
                - no_ga_channel:
                    setvcpu_option = "--guest"
                    agent_channel = "no"
                - no_install_qemuga:
                    setvcpu_option = "--guest"
                - no_start_qemuga:
                    install_qemuga = "yes"
                    setvcpu_option = "--guest"
                - guest_plug:
                    vcpu_unplug = "no"
                    setvcpu_option = "--guest"
                    install_qemuga = "yes"
                    start_qemuga = "yes"
