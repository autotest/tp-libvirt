- virsh.blkdeviotune:
    type = virsh_blkdeviotune
    libvirtd = "on"
    variants:
        - positive_testing:
            status_error = "no"
            device_name = "vmblk"
            variants:
                - get_blkdevio_parameter:
                    variants:
                        - shutoff_guest:
                            start_vm = "no"
                            variants:
                                - options:
                                    variants:
                                        - none:
                                            blkdevio_options =
                                        - config:
                                            blkdevio_options = "--config"
                                        - current:
                                            blkdevio_options = "--current"
                        - running_guest:
                            start_vm = "yes"
                            variants:
                                - options:
                                    variants:
                                        - none:
                                            blkdevio_options =
                                        - live:
                                            blkdevio_options = "--live"
                                        - current:
                                            blkdevio_options = "--current"
                - set_blkdevio_parameter:
                    change_parameters = "yes"
                    variants:
                        - shutoff_guest:
                            start_vm = "no"
                            variants:
                                - change_total_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_total_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_total_bytes_sec = 1024
                                        - maximum_boundary:
                                            blkdevio_total_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_read_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_read_bytes_sec = 1048576
                                        - maximum_boundary:
                                            blkdevio_read_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_write_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_write_bytes_sec = 1073741824
                                        - maximum_boundary:
                                            blkdevio_write_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 0
                                        - combination2:
                                            blkdevio_total_bytes_sec = 1073741824
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 0
                                        - combination3:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 1000000000000000
                                            blkdevio_write_bytes_sec = 1000000000000000
                                        - combination4:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 1099511627776
                                            blkdevio_write_bytes_sec = 0
                                        - combination5:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 112589990684262
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_total_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_total_iops_sec = 1099511627776
                                        - maximum_boundary:
                                            blkdevio_total_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_read_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_read_iops_sec = 112589990684262
                                        - maximum_boundary:
                                            blkdevio_read_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_write_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_write_iops_sec = 112589990684262
                                        - maximum_boundary:
                                            blkdevio_write_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_iops_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 0
                                        - combination2:
                                            blkdevio_total_iops_sec = 1073741824
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 0
                                        - combination3:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 1000000000000000
                                            blkdevio_write_iops_sec = 1000000000000000
                                        - combination4:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 1099511627776
                                            blkdevio_write_iops_sec = 0
                                        - combination5:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 112589990684262
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_iops_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_read_bytes_sec = 1234567890
                                            blkdevio_total_iops_sec = 1073741824
                                        - combination2:
                                            blkdevio_write_bytes_sec = 1073741824
                                            blkdevio_total_iops_sec = 1000000000000000
                                        - combination3:
                                            blkdevio_total_bytes_sec = 1073741824
                                            blkdevio_total_iops_sec = 1099511627776
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - current:
                                                    blkdevio_options = "--current"
                        - running_guest:
                            start_vm = "yes"
                            variants:
                                - change_total_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_total_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_total_bytes_sec = 1
                                        - maximum_boundary:
                                            blkdevio_total_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_read_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_read_bytes_sec = 4096
                                        - maximum_boundary:
                                            blkdevio_read_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_bytes_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_write_bytes_sec = 0
                                        - inside_boundary:
                                            blkdevio_write_bytes_sec = 16777216
                                        - maximum_boundary:
                                            blkdevio_write_bytes_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 0
                                        - combination2:
                                            blkdevio_total_bytes_sec = 1073741824
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 0
                                        - combination3:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 1000000000000000
                                            blkdevio_write_bytes_sec = 1000000000000000
                                        - combination4:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 1099511627776
                                            blkdevio_write_bytes_sec = 0
                                        - combination5:
                                            blkdevio_total_bytes_sec = 0
                                            blkdevio_read_bytes_sec = 0
                                            blkdevio_write_bytes_sec = 112589990684262
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_total_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_total_iops_sec = 4294967296
                                        - maximum_boundary:
                                            blkdevio_total_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_read_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_read_iops_sec = 17592186044416
                                        - maximum_boundary:
                                            blkdevio_read_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_iops_sec:
                                    variants:
                                        - minimum_boundary:
                                            blkdevio_write_iops_sec = 0
                                        - inside_boundary:
                                            blkdevio_write_iops_sec = 720575940379279
                                        - maximum_boundary:
                                            blkdevio_write_iops_sec = 1000000000000000
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_iops_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 0
                                        - combination2:
                                            blkdevio_total_iops_sec = 1073741824
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 0
                                        - combination3:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 1000000000000000
                                            blkdevio_write_iops_sec = 1000000000000000
                                        - combination4:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 1099511627776
                                            blkdevio_write_iops_sec = 0
                                        - combination5:
                                            blkdevio_total_iops_sec = 0
                                            blkdevio_read_iops_sec = 0
                                            blkdevio_write_iops_sec = 112589990684262
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_iops_sec:
                                    variants:
                                        - combination1:
                                            blkdevio_total_iops_sec = 1234567890
                                            blkdevio_read_bytes_sec = 1073741824
                                        - combination2:
                                            blkdevio_total_iops_sec = 1073741824
                                            blkdevio_write_bytes_sec = 1000000000000000
                                        - combination3:
                                            blkdevio_total_iops_sec = 1073741824
                                            blkdevio_total_bytes_sec = 1099511627776
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                - attach_disk:
                    attach_disk = "yes"
                    start_vm = "yes"
                    change_parameters = "yes"
                    device_name = "vdb"
                    blkdevio_total_bytes_sec = 5000
                    blkdevio_total_bytes_sec_max = 10000
                    blkdevio_total_iops_sec = 6000
                    blkdevio_total_iops_sec_max = 11000
                    blkdevio_group_name = libvirt_iotune_group1
                    variants:
                        - slice_test:
                            disk_slice_enabled = yes
                            type_name = "file"
                            target_dev = "vdb"
                            target_bus = "scsi"
                            device_type = "disk"
                        - not_slice_test:
                            disk_slice_enabled = no
                    variants:
                        - hotplug:
                            attach_before_start = no
                        - coldplug:
                            attach_before_start = yes
                            attach_options = "--config"
                            variants:
                                - bus_virtio:
                                    disk_bus = 'virtio'
                                - bus_scsi:
                                    disk_bus = 'scsi'
                            variants:
                                - with_alias:
                                    disk_alias = 'ua_a'
                                - without_alias:
                                    disk_alias = ''
        - negative_testing:
            status_error = "yes"
            device_name = "vmblk"
            variants:
                - get_blkdevio_parameter:
                    variants:
                        - shutoff_guest:
                            start_vm = "no"
                            variants:
                                - invalid_device:
                                    device_name = "unknown"
                                - options:
                                    variants:
                                        - invalid:
                                            blkdevio_options = "welcome"
                                        - live:
                                            blkdevio_options = "--live"
                        - running_guest:
                            start_vm = "yes"
                            variants:
                                - invalid_device:
                                    device_name = "unknown"
                                - options:
                                    variants:
                                        - invalid:
                                            blkdevio_options = "welcome"
                - set_blkdevio_parameter:
                    change_parameters = "yes"
                    variants:
                        - shutoff_guest:
                            start_vm = "no"
                            variants:
                                - invalid_device:
                                    device_name = "ceph"
                                    blkdevio_total_bytes_sec = 1000000000000000
                                - change_total_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_total_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_total_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_total_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_read_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_read_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_read_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_write_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_write_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_write_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_total_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_total_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_total_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_read_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_read_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_read_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_write_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_write_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_write_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_iops_sec:
                                    variants:
                                        - total_read_bytes_sec:
                                            blkdevio_total_bytes_sec = 1
                                            blkdevio_read_bytes_sec = 2
                                        - total_write_bytes_sec:
                                            blkdevio_total_bytes_sec = 3
                                            blkdevio_write_bytes_sec = 4
                                        - total_read_iops_sec:
                                            blkdevio_total_iops_sec = 5
                                            blkdevio_read_iops_sec = 6
                                        - total_write_iops_sec:
                                            blkdevio_total_iops_sec = 7
                                            blkdevio_write_iops_sec = 8
                        - running_guest:
                            start_vm = "yes"
                            variants:
                                - invalid_device:
                                    device_name = "nfs"
                                    blkdevio_write_iops_sec = 1000000000000000
                                - change_total_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_total_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_total_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_total_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_read_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_read_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_read_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_bytes_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_write_bytes_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_write_bytes_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_write_bytes_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_total_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_total_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_total_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_read_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_read_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_read_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_read_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_write_iops_sec:
                                    variants:
                                        - lower_minimum_boundary:
                                            blkdevio_write_iops_sec = -1
                                        - upper_maximum_boundary:
                                            blkdevio_write_iops_sec = 1000000000000001
                                        - invalid_value:
                                            blkdevio_write_iops_sec = "~@#$%^-=_:,.[]{}"
                                    variants:
                                        - options:
                                            variants:
                                                - config:
                                                    blkdevio_options = "--config"
                                                - live:
                                                    blkdevio_options = "--live"
                                                - current:
                                                    blkdevio_options = "--current"
                                - change_total_read_write_bytes_iops_sec:
                                    variants:
                                        - total_read_bytes_sec:
                                            blkdevio_total_bytes_sec = 1
                                            blkdevio_read_bytes_sec = 2
                                        - total_write_bytes_sec:
                                            blkdevio_total_bytes_sec = 3
                                            blkdevio_write_bytes_sec = 4
                                        - total_read_iops_sec:
                                            blkdevio_total_iops_sec = 5
                                            blkdevio_read_iops_sec = 6
                                        - total_write_iops_sec:
                                            blkdevio_total_iops_sec = 7
                                            blkdevio_write_iops_sec = 8
