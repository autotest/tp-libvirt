- pcie_root_port_controller:
    type = pcie_root_port_controller
    start_vm = "no"
    controller_model = "pcie-root-port"
    controller_target = '{"chassis":1,"port":"0x8"}'
    variants:
        - positive_test:
            status_error = "no"
            variants:
                - controllers_different_chassis_same_port:
                    second_controller_model = "pcie-root-port"
                    second_controller_target = "{'chassis':2,'port':'0x8'}"
        - negative_test:
            status_error = "yes"
            variants:
                - controllers_same_chassis_same_port:
                    second_controller_model = "pcie-root-port"
                    second_controller_target = "{'chassis':1,'port':'0x8'}"
                - controllers_same_chassis_different_port:
                    second_controller_model = "pcie-root-port"
                    second_controller_target = "{'chassis':1,'port':'0x4'}"
                - index_equals_address_bus:
                    test_define_only = "yes"
                    controller_address = '{"type": "pci", "domain": "0x0000", "bus": "0x01", "slot": "0x1", "function":"0x0"}'
                    failure_message = ".*The device at PCI address .* cannot be plugged into the PCI controller with index='.*'. It requires a controller that accepts a pcie-root-port.*"
                - index_less_than_address_bus:
                    bus_offset = 1
                    test_define_only = "yes"
                    controller_address = '{"type": "pci", "domain": "0x0000", "bus": "0x02", "slot": "0x1", "function":"0x0"}'
                    failure_message = ".*a PCI slot is needed to connect a PCI controller model='pcie-root-port', but none is available, and it cannot be automatically added.*"
